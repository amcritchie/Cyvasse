$(document).ready(function () {

    var client = new Keen({
        projectId: "<%= ENV['KEEN_PROJECT_ID']%>",
        readKey: "<%= ENV['KEEN_READ_KEY'] %>"
    });

    Keen.ready(function () {

        var signupsPerDay = new Keen.Query("count", {
            timeframe: "previous_7_days",
            interval: "daily",
            eventCollection: "sign_ups"
        });
        client.draw(signupsPerDay, document.getElementById("signupsPerDay"), {
            chartType: "columnchart",
            title: "Sign Ups/Day",
            colors: ["#666"],
            width: "auto"
        });
        var signupsPerWeek = new Keen.Query("count", {
            timeframe: "this_month",
            interval: "daily",
            eventCollection: "sign_ups"
        });
        client.draw(signupsPerWeek, document.getElementById("signupsPerWeek"), {
            chartType: "columnchart",
            title: "Sign Ups/Day",
            colors: ["#666"],
            width: "auto"
        });

        var loginsPerDay = new Keen.Query("count", {
            timeframe: "previous_7_days",
            interval: "daily",
            eventCollection: "logins"
        });
        client.draw(loginsPerDay, document.getElementById("loginsPerDay"), {
            chartType: "columnchart",
            title: "Logins/Day",
            colors: ["#666"],
            width: "auto"
        });
        var loginsPerWeek = new Keen.Query("count", {
            timeframe: "this_month",
            interval: "daily",
            eventCollection: "logins"
        });
        client.draw(loginsPerWeek, document.getElementById("loginsPerWeek"), {
            chartType: "columnchart",
            title: "Logins/Day",
            colors: ["#666"],
            width: "auto"
        });

        var gamesStartedPerDay = new Keen.Query("count", {
            timeframe: "previous_7_days",
            interval: "daily",
            eventCollection: "new_games"
        });
        client.draw(gamesStartedPerDay, document.getElementById("gamesStartedPerDay"), {
            chartType: "columnchart",
            title: "Games Started/Day",
            colors: ["#666"],
            width: "auto"
        });
        var gamesStartedPerWeek = new Keen.Query("count", {
            timeframe: "this_month",
            interval: "daily",
            eventCollection: "new_games"
        });
        client.draw(gamesStartedPerWeek, document.getElementById("gamesStartedPerWeek"), {
            chartType: "columnchart",
            title: "Games Started/Day",
            colors: ["#666"],
            width: "auto"
        });

        var gamesFinishedPerDay = new Keen.Query("count", {
            timeframe: "previous_7_days",
            interval: "daily",
            eventCollection: "finish_games"
        });
        client.draw(gamesFinishedPerDay, document.getElementById("gamesFinishedPerDay"), {
            chartType: "columnchart",
            title: "Games Finished/Day",
            colors: ["#666"],
            width: "auto"
        });
        var gamesFinishedPerWeek = new Keen.Query("count", {
            timeframe: "this_month",
            interval: "daily",
            eventCollection: "finish_games"
        });
        client.draw(gamesFinishedPerWeek, document.getElementById("gamesFinishedPerWeek"), {
            chartType: "columnchart",
            title: "Games Finished/Day",
            colors: ["#666"],
            width: "auto"
        });

        var messageUsernameMinute = new Keen.Query("count", {
            eventCollection: "message",
            timeframe: "this_minute",
            groupBy: "sender_id.username"
        });
        client.draw(messageUsernameMinute, document.getElementById("messageUsernameMinute"), {
            // Custom configuration here
            title: "Messages/Minute"

        });
        var messageUsernameHour = new Keen.Query("count", {
            eventCollection: "message",
            timeframe: "this_hour",
            groupBy: "sender_id.username"
        });
        client.draw(messageUsernameHour, document.getElementById("messageUsernameHour"), {
            // Custom configuration here
            title: "Messages/Hour"
        });
        var messageUsernameDay = new Keen.Query("count", {
            eventCollection: "message",
            timeframe: "this_day",

            groupBy: "sender_id.username"
        });
        client.draw(messageUsernameDay, document.getElementById("messageUsernameDay"), {
            // Custom configuration here
            title: "Messages/Day"

        });
        var messageUsernameWeek = new Keen.Query("count", {
            eventCollection: "message",
            timeframe: "this_week",
            title: "Messages/Week",

            groupBy: "sender_id.username"
        });
        client.draw(messageUsernameWeek, document.getElementById("messageUsernameWeek"), {
            // Custom configuration here
            title: "Messages/Week"

        });
        var messageUsernameMonth = new Keen.Query("count", {
            eventCollection: "message",
            timeframe: "this_month",

            groupBy: "sender_id.username"
        });
        client.draw(messageUsernameMonth, document.getElementById("messageUsernameMonth"), {
            // Custom configuration here
            title: "Messages/Month"

        });
        var messageUsernameYear = new Keen.Query("count", {
            eventCollection: "message",
            timeframe: "this_year",

            groupBy: "sender_id.username"
        });
        client.draw(messageUsernameYear, document.getElementById("messageUsernameYear"), {
            // Custom configuration here
            title: "Messages/Year"

        });
    });
});